{
    "Format": "2.3.0",
    "ConfigSchema": {
      //recolor selection
      "Recolor Selection": {
        "AllowValues": "Off, Vanilla, Vibrant Pastoral, Earthy, Starblue, Wittily",
        "Default": "Off",
        "Description": "Manually choose recolor option (off: auto detect recolor used).",
        "Section": "Recolors"
      },
      "Vibrant Pastoral Fall Variant": {
        "AllowValues": "Green, Orange",
        "Default": "Orange",
        "Description": "Toggles VPR fall color variant.",
        "Section": "Recolors"
      },
      "Wittily Dirt Variant": {
        "AllowValues": "Dark, Light",
        "Default": "Dark",
        "Description": "Toggles Wittily dirt color variant.",
        "Section": "Recolors"
      },

      // mines water tweaks

      "Mines Water Overlay": {
        "AllowValues": "true, false",
        "Default": "true",
        "Description": "Toggles water effect overlay for mines tilesheet.",
        "Section": "Tweaks"
      },

      // recolor compatibility

      "Better Water 2 Color": {
        "AllowValues": "Off, Blue, Bright, Dark, Teal",
        "Default": "Off",
        "Description": "Toggles compatibility with Better Water 2 water color options (off: you don't use BW2).",
        "Section": "Compatibility"
      }
    },

    "DynamicTokens": [
      // recolor tokens
      {
        "Name": "recolor",
        "Value": "Vanilla",
        "When": { "Recolor Selection":  "Off, Vanilla" }
      },
      {
        "Name": "recolor",
        "Value": "VPR",
        "When": {
          "HasMod": "grapeponta.VibrantPastoralRecolor",
          "Recolor Selection":  "Off, Vibrant Pastoral"
        }
      },
      {
        "Name": "recolor",
        "Value": "Earthy",
        "When": {
          "HasMod": "DaisyNiko.EarthyRecolour",
          "Recolor Selection":  "Off, Earthy"
        }
      },
      {
        "Name": "recolor",
        "Value": "Starblue",
        "When": {
          "HasMod": "Lita.StarblueValleyUnofficial",
          "Recolor Selection":  "Off, Starblue"
        }
      },
      {
        "Name": "recolor",
        "Value": "Wittily",
        "When": {
          "HasMod": "Acerbicon.Recolor",
          "Recolor Selection":  "Off, Wittily"
        }
      },

      // better water 2 tokens
      {
        "Name": "betterwater",
        "Value": "Blue",
        "When": {
          "HasMod": "Neopffe.BetterWater",
          "Better Water 2 Color":  "Blue"
        }
      },
      {
        "Name": "betterwater",
        "Value": "Bright",
        "When": {
          "HasMod": "Neopffe.BetterWater",
          "Better Water 2 Color":  "Bright"
        }
      },
      {
        "Name": "betterwater",
        "Value": "Dark",
        "When": {
          "HasMod": "Neopffe.BetterWater",
          "Better Water 2 Color":  "Dark"
        }
      },
      {
        "Name": "betterwater",
        "Value": "Teal",
        "When": {
          "HasMod": "Neopffe.BetterWater",
          "Better Water 2 Color":  "Teal"
        }
      }
    ],

    "Changes": [
      // outdoor seasonal options
      {
        "Action": "Load",
        "Target": "Maps/spring_CR_outdoor, Maps/summer_CR_outdoor, Maps/fall_CR_outdoor, Maps/winter_CR_outdoor,",
        "FromFile": "assets/{{recolor}}/{{TargetWithoutPath}}.png"
      },

      // VPR green fall edit
      {
        "Action": "EditImage",
        "Target": "Maps/fall_CR_outdoor",
        "FromFile": "assets/{{recolor}}/fall_green_CR_outdoor.png",
        "When": {
          "Vibrant Pastoral Fall Variant": "Green",
          "recolor": "VPR",
          "HasMod": "grapeponta.VibrantPastoralRecolor"
        }
      },

      // wittily dirt edit
      {
        "Action": "EditImage",
        "Target": "Maps/{{season}}_CR_outdoor",
        "FromFile": "assets/{{recolor}}/{{season}}_L_CR_outdoor.png",
        "When": {
          "Wittily Dirt Variant": "Light",
          "recolor": "Wittily",
          "HasMod": "Acerbicon.Recolor"
        }
      },

      // mines load
      {
        "Action": "Load",
        "Target": "Maps/CR_minefrost",
        "FromFile": "assets/{{recolor}}/{{TargetWithoutPath}}.png"
      },
      {
        "Action": "Load",
        "Target": "Maps/CR_mines",
        "FromFile": "assets/{{recolor}}/{{TargetWithoutPath}}.png"
      },

      // water overlay

      {
        "Action": "EditImage",
        "Target": "LooseSprites/Cursors",
        "PatchMode": "Replace",
        "FromFile": "assets/Cursors/Cursors_mines.png",
        "FromArea": { "X": 0, "Y": 2000, "Width": 640, "Height": 256 },
        "ToArea": { "X": 0, "Y": 2000, "Width": 640, "Height": 256 },
        "Priority": "Late+1",
        "When": {
          "Mines Water Overlay": "true",
          "LocationName": "FarmCave"
        },
        "Update": "OnLocationChange"
      },

      // better water edit

      {
        "Action": "EditImage",
        "Target": "Maps/{{season}}_CR_outdoor",
        "FromFile": "assets/BetterWater/{{betterwater}}/{{season}}_CR_outdoor.png",

        "FromArea": { "X": 256, "Y": 0, "Width": 208, "Height": 96},
        "ToArea": { "X": 256, "Y": 0, "Width": 208, "Height": 96},

        "PatchMode": "Overlay",
        "When": {
          "Better Water 2 Color": "Blue",
          "betterwater": "Blue"
        }
      },
      {
        "Action": "EditImage",
        "Target": "Maps/{{season}}_CR_outdoor",
        "FromFile": "assets/BetterWater/{{betterwater}}/{{season}}_CR_outdoor.png",

        "FromArea": { "X": 256, "Y": 0, "Width": 208, "Height": 96},
        "ToArea": { "X": 256, "Y": 0, "Width": 208, "Height": 96},

        "PatchMode": "Overlay",
        "When": {
          "Better Water 2 Color": "Bright",
          "betterwater": "Bright"
        }
      },
      {
        "Action": "EditImage",
        "Target": "Maps/{{season}}_CR_outdoor",
        "FromFile": "assets/BetterWater/{{betterwater}}/{{season}}_CR_outdoor.png",

        "FromArea": { "X": 256, "Y": 0, "Width": 208, "Height": 96},
        "ToArea": { "X": 256, "Y": 0, "Width": 208, "Height": 96},

        "PatchMode": "Overlay",
        "When": {
          "Better Water 2 Color": "Dark",
          "betterwater": "Dark"
        }
      },
      {
        "Action": "EditImage",
        "Target": "Maps/{{season}}_CR_outdoor",
        "FromFile": "assets/BetterWater/{{betterwater}}/{{season}}_CR_outdoor.png",

        "FromArea": { "X": 256, "Y": 0, "Width": 208, "Height": 96},
        "ToArea": { "X": 256, "Y": 0, "Width": 208, "Height": 96},

        "PatchMode": "Overlay",
        "When": {
          "Better Water 2 Color": "Teal",
          "betterwater": "Teal"
        }
      }
    ]
}
